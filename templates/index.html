{% extends 'layout.html' %}

{% block header %}
<h1>{% block title %}Todo List{% endblock %}</h1>
{% endblock %}

{% block content %}

{% if g.user %}
<div class="todo-list--container">
	<div class="todo-list--card">
		<h2 class="todo-list--title">Things to do</h2>
		<ul id="todo-list" class="todo-list">
			{% for item in items %}
			<li>
				<form method="post" action="/{{ item.id }}/remove">
					<input id="completed-{{ item.id }}" name="completed-{{ item.id }}" type="checkbox" oninput="handleOnInput()" data-original-value="{{ 'checked' if item.completed else 'unchecked' }}" {{ "checked" if item.completed }}>
					<input id="description-{{ item.id }}" name="description-{{ item.id }}" oninput="handleOnInput()" value="{{ item.description }}" data-original-value="{{ item.description }}">
					<input id="submit-{{ item.id }}" class="btn-remove" type="submit" value="Remove">
				</form>
			</li>
			{% endfor %}
			<li>
				<form method="post" action="/additem" onsubmit="preventDefault()">
					<input id="completed" name="completed" type="checkbox">
					<input id="description" name="description" placeholder="New Item">
					<input class="btn-add" type="submit" value="Add New">
				</form>
			</li>
		</ul>
	</div>
</div>
{% endif %}

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='scripts/index.js') }}"></script>
{% endblock %}
